<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Emoji CodePoint –°—É–º–º–∞—Ç–æ—Ä</title>
  <script src="main.js"></script>
  <style>
    body {
      font-family: "Segoe UI Emoji", "Apple Color Emoji", "Noto Color Emoji", sans-serif;
      padding: 2em;
      background: #f8f9fa;
    }
    h2 {
      font-size: 1.8em;
    }
    input {
      font-size: 2em;
      width: 60px;
      text-align: center;
    }
    button {
      font-size: 1em;
      padding: 0.4em 1em;
      margin-left: 10px;
    }
    .log {
      margin-top: 1em;
      font-family: monospace;
      background: #fff;
      border: 1px solid #ccc;
      padding: 1em;
      white-space: pre-wrap;
    }
    .result {
      font-size: 2.5em;
      margin-top: 1em;
    }
  </style>
</head>
<body>

  <h2>üé≠ Emoji-—Å—É–º–º–∞—Ç–æ—Ä –ø–æ Unicode-–∫–æ–¥—É</h2>
  <p>–í–≤–µ–¥–∏—Ç–µ —ç–º–æ–¥–∑–∏ (–∏–ª–∏ —á—Ç–æ —É–≥–æ–¥–Ω–æ) –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å —ç–º–æ–¥–∑–∏".</p>

  <input type="text" id="emojiInput" maxlength="2" value="üé≠" />
  <button onclick="addEmoji()">–î–æ–±–∞–≤–∏—Ç—å —ç–º–æ–¥–∑–∏</button>

  <div class="result" id="emojiResult">üß†</div>

  <div class="log" id="emojiLog"></div>

  <script>
    const START = 0x1F300;
    const END = 0x1F9FF;
    const RANGE = END - START + 1;

    let total = 0;

    function sumEmoji(emoji) {
      const code = emoji.codePointAt(0);
      total += code;
      const resultCode = START + ((total - START) % RANGE);
      const resultEmoji = String.fromCodePoint(resultCode);

      // –õ–æ–≥ –≤ –∫–æ–Ω—Å–æ–ª–∏
      console.log(`–í–≤–æ–¥: ${emoji} (${code}) ‚Üí –°—É–º–º–∞: ${total} ‚Üí –†–µ–∑—É–ª—å—Ç–∞—Ç: ${resultEmoji} (${resultCode})`);

      // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
      const emojiResult = document.getElementById("emojiResult");
      emojiResult.textContent = resultEmoji;

      const emojiLog = document.getElementById("emojiLog");
      emojiLog.textContent += `–í–≤–æ–¥: ${emoji} (${code}) ‚Üí –°—É–º–º–∞: ${total} ‚Üí ${resultEmoji} (U+${resultCode.toString(16).toUpperCase()})\n`;

      return resultEmoji;
    }

    function addEmoji() {
      const input = document.getElementById("emojiInput");
      const value = input.value.trim();
      if (value) {
        sumEmoji(value);
        input.value = "";
      }
    }
  </script>

</body>
</html>
